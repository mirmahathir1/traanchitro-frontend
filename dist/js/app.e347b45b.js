(function(e){function t(t){for(var o,s,r=t[0],l=t[1],c=t[2],u=0,p=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&p.push(n[s][0]),n[s]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);d&&d(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],o=!0,r=1;r<a.length;r++){var l=a[r];0!==n[l]&&(o=!1)}o&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var o={},n={app:0},i=[];function s(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=o,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(a,o,function(t){return e[t]}.bind(null,o));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var o=a("8a23"),n=a.n(o);n.a},"0c7a":function(e,t,a){"use strict";var o=a("2bbe"),n=a.n(o);n.a},"0ef4":function(e,t,a){e.exports=a.p+"img/Logo-Black.b70e4d5d.png"},"0fd2":function(e,t,a){"use strict";var o=a("84b5"),n=a.n(o);n.a},"2bbe":function(e,t,a){},"4f45":function(e,t,a){e.exports=a.p+"img/Logo-White.65c77d53.png"},"56d7":function(e,t,a){"use strict";a.r(t),a.d(t,"eventBus",(function(){return la}));a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"inspire"}},[e.isMobile()?a("SideDrawer"):e._e(),a("TopBar"),a("v-content",{staticClass:"backimage",attrs:{app:""}},[a("router-view")],1)],1)},i=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{ref:"googleMap",staticClass:"google-map",attrs:{id:"map"}}),Boolean(this.map)?[e._t("default",null,{map:e.map})]:e._e(),a("v-btn",{staticStyle:{bottom:"10vh"},attrs:{absolute:"",dark:"",fab:"",bottom:"",small:"",right:"",fixed:"",color:"primary darken-2"},on:{click:function(t){return e.addButtonClicked()}}},[a("v-icon",[e._v("mdi-plus")])],1),a("v-btn",{staticStyle:{bottom:"3vh"},attrs:{absolute:"",dark:"",fab:"",bottom:"",small:"",right:"",fixed:"",color:"primary darken-2",loading:e.reloadLoaderFlag},on:{click:function(t){return e.refreshClicked()}}},[a("v-icon",[e._v("mdi-reload")])],1),e.$store.getters.getDragZoomNotifier?a("v-snackbar",{staticStyle:{width:"300px"},attrs:{vertical:"",color:"primary darken-2",left:""},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.snackbarText)+" "),a("div",[a("v-btn",{attrs:{color:"white",text:""},on:{click:function(t){e.snackbar=!1}}},[e._v("Close")])],1)]):e._e(),a("RightFilter")],2)},r=[],l=(a("4160"),a("d81d"),a("d3b7"),a("159b"),a("96cf"),a("1da1")),c=a("f464"),d=a.n(c),u=a("bc3a"),p=a.n(u),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticStyle:{position:"fixed",top:"10vh",right:"0px"},attrs:{"max-width":"400"}},[e.enabled?[a("v-card-title",[a("v-btn",{attrs:{icon:""},on:{click:function(t){e.enabled=!1}}},[a("v-icon",[e._v("mdi-chevron-right")])],1),e._v(" Filter Search ")],1),a("v-divider"),a("v-container",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:4}},[a("p",[e._v("Type of Relief:")]),a("v-checkbox",{attrs:{"hide-details":"",dense:"",label:"Food",value:"FOOD"},model:{value:e.selectedTypes,callback:function(t){e.selectedTypes=t},expression:"selectedTypes"}}),a("v-checkbox",{attrs:{"hide-details":"",dense:"",label:"PPE",value:"PPE"},model:{value:e.selectedTypes,callback:function(t){e.selectedTypes=t},expression:"selectedTypes"}}),a("v-checkbox",{attrs:{"hide-details":"",dense:"",label:"Sanitizer",value:"SANITIZER"},model:{value:e.selectedTypes,callback:function(t){e.selectedTypes=t},expression:"selectedTypes"}}),a("v-checkbox",{attrs:{"hide-details":"",dense:"",label:"Mask",value:"MASK"},model:{value:e.selectedTypes,callback:function(t){e.selectedTypes=t},expression:"selectedTypes"}}),a("v-checkbox",{attrs:{"hide-details":"",dense:"",label:"Glove",value:"GLOVE"},model:{value:e.selectedTypes,callback:function(t){e.selectedTypes=t},expression:"selectedTypes"}})],1),a("v-col",{attrs:{cols:8}},[a("p",[e._v("Filter by Organization:")]),a("v-autocomplete",{staticClass:"mb-3",attrs:{items:e.organizations,"search-input":e.select,loading:e.organizationLoaderFlag,disabled:e.organizationLoaderFlag,"cache-items":"",flat:"","hide-no-data":"","hide-details":"",label:e.organizationLoaderFlag?"Loading Names of organizations...":"Type name of organization:"},on:{"update:searchInput":function(t){e.select=t},"update:search-input":function(t){e.select=t}},model:{value:e.selectedOrganization,callback:function(t){e.selectedOrganization=t},expression:"selectedOrganization"}}),a("p",[e._v("Schedule:")]),e.$store.getters.getLoggedIn?[a("v-radio-group",{model:{value:e.schedule,callback:function(t){e.schedule=t},expression:"schedule"}},[a("v-radio",{attrs:{label:"Past Delivery",value:"PAST"}}),a("v-radio",{attrs:{label:"Scheduled Delivery",value:"SCHEDULED"}})],1)]:e._e()],2)],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.resetFilter()}}},[e._v("Reset Filter")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.filterSearch}},[e._v("Search")])],1)]:a("v-btn",{attrs:{icon:""},on:{click:function(t){e.enabled=!0}}},[a("v-icon",[e._v("mdi-chevron-left")])],1)],2)},m=[],h={name:"RightFilter",data:function(){return{enabled:!1,menu:!1,selectedTypes:[],selectedOrganization:null,select:null,schedule:null,organizations:[],filterSearchLoadingFlag:!1,organizationLoaderFlag:!1}},created:function(){var e=this;if(this.organizations=this.$store.getters.getOrganizations,0===this.organizations.length){var t={},a={"x-auth":localStorage.getItem("x-auth")};console.log("PARAMS: ",t),a["x-auth"]?console.log("USER IS AUTHORIZED"):console.log("USER IS NOT AUTHORIZED"),this.organizationLoaderFlag=!0,p.a.get("/api/orgs",{headers:a,params:t}).then((function(t){console.log("RESPONSE: ",t),e.$store.commit("setOrganizations",t.data.orgNames),e.organizations=e.$store.getters.getOrganizations})).catch((function(e){console.log("ERROR: ",e.response)})).finally((function(){console.log("FINISH"),e.organizationLoaderFlag=!1}))}},methods:{resetFilter:function(){this.selectedTypes=[],this.selectedOrganization=null,this.schedule=null,this.commitFiltersToStore()},commitFiltersToStore:function(){var e={typeOfRelief:this.selectedTypes,schedule:this.schedule,orgName:this.selectedOrganization};this.$store.commit("setFilters",e)},filterSearch:function(){this.commitFiltersToStore(),this.enabled=!1,la.$emit("reloadMap")}}},v=h,f=a("2877"),b=a("6544"),y=a.n(b),k=a("c6a6"),x=a("8336"),w=a("b0af"),S=a("99d9"),_=a("ac7c"),L=a("62ad"),C=a("a523"),O=a("ce7e"),I=a("132d"),R=a("67b6"),E=a("43a6"),T=a("0fd9"),A=a("2fa4"),$=Object(f["a"])(v,g,m,!1,null,"046491fc",null),z=$.exports;y()($,{VAutocomplete:k["a"],VBtn:x["a"],VCard:w["a"],VCardActions:S["a"],VCardTitle:S["c"],VCheckbox:_["a"],VCol:L["a"],VContainer:C["a"],VDivider:O["a"],VIcon:I["a"],VRadio:R["a"],VRadioGroup:E["a"],VRow:T["a"],VSpacer:A["a"]});var F={components:{RightFilter:z},data:function(){return{reloadLoaderFlag:!1,sheet:!1,snackbar:!0,snackbarText:"Press reload button (bottom right) to show pins",map:null,maps:null,markers:[],mapConfig:{center:{lat:23.685,lng:90.3563},zoom:7,options:{gestureHandling:"greedy"},disableDefaultUI:!0},currentPosition:null,apiKey:"AIzaSyBTefL6-T9hvmcIhSIJapOCLAMAhVBEhQY"}},mounted:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=setInterval((function(){e.$store.getters.getMaps&&(e.maps=e.$store.getters.getMaps,e.initializeMap(),la.$on("resetAndShow",(function(t){e.mapListener(t)})),la.$on("reloadMap",(function(){e.refreshClicked()})),clearInterval(a))}),100);case 1:case"end":return t.stop()}}),t)})))()},methods:{addButtonClicked:function(){var e=this.map.getBounds(),t={focusLocation:{lat:this.map.getCenter().lat(),lng:this.map.getCenter().lng()},northeast:{lat:e.Ya.j,lng:e.Ua.j},southwest:{lat:e.Ya.i,lng:e.Ua.i}};this.$store.commit("setNewReliefLocation",t),this.$router.push({name:"Add"})},stopDragZoomNotifier:function(){this.$store.commit("stopDragZoomNotifier"),this.snackbar=!1,localStorage.setItem("stopDragZoomNotifier","false")},refreshClicked:function(){var e=this,t=this.map.getBounds(),a={bounds:{northeast:{lat:t.Ya.j,lng:t.Ua.j},southwest:{lat:t.Ya.i,lng:t.Ua.i}},filter:this.$store.getters.getFilters},o={"x-auth":localStorage.getItem("x-auth")};console.log("PARAMS: ",a),o["x-auth"]?console.log("USER IS AUTHORIZED"):console.log("USER IS NOT AUTHORIZED"),this.reloadLoaderFlag=!0,p.a.get("/api/pins",{headers:o,params:a}).then((function(t){console.log("RESPONSE: ",t);var a={locations:t.data.locations};e.putMarkersOnBound(a)})).catch((function(e){console.log("ERROR: ",e.response)})).finally((function(){console.log("FINISH"),e.reloadLoaderFlag=!1}))},putMarkersOnBound:function(e){this.clearAllMarkers(),this.addNewMarkers(e.locations)},mapListener:function(e){if(this.map.setCenter(e.focusLocation),void 0!=e.bounds){var t=new this.maps.LatLng(e.bounds.northeast.lat,e.bounds.northeast.lng),a=new this.maps.LatLng(e.bounds.southwest.lat,e.bounds.southwest.lng),o=new this.maps.LatLngBounds;o.extend(t),o.extend(a),this.map.fitBounds(o)}else this.map.setZoom(17);this.refreshClicked()},clearAllMarkers:function(){this.markers.forEach((function(e){e.setMap(null)})),this.markers=[]},addNewMarkers:function(e){var t=this;e.forEach((function(e){var a=new t.maps.Marker({position:{lat:e.lat,lng:e.lng},map:t.map,animation:t.maps.Animation.DROP});t.markers.push(a),a.addListener("click",t.seeMarkerDetails)}))},seeMarkerDetails:function(e){console.log("Selected marker: ",e.latLng.lat(),e.latLng.lng());var t={lat:e.latLng.lat(),lng:e.latLng.lng()};this.map.setCenter(t);var a="/search/details/"+JSON.stringify(t);this.$route.path!==a&&this.$router.push(a)},mapClicked:function(e){var t={lat:e.latLng.lat(),lng:e.latLng.lng()};console.log(t)},mapDragEnded:function(){},mapZoomChanged:function(){},initializeMap:function(){var e=this.$refs.googleMap;this.map=new this.maps.Map(e,this.mapConfig),this.map.addListener("dragend",this.mapDragEnded),this.map.addListener("zoom_changed",this.mapZoomChanged)}}},V=F,N=(a("0fd2"),a("2db4")),M=Object(f["a"])(V,s,r,!1,null,"6f1a8012",null),P=M.exports;y()(M,{VBtn:x["a"],VIcon:I["a"],VSnackbar:N["a"]});var D=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app-bar",{attrs:{app:"","clipped-left":"",color:"primary",dark:"",elevation:"5"}},[e.isMobile()?o("v-app-bar-nav-icon",{on:{click:e.toggleDrawer}}):e._e(),o("v-img",{staticClass:"mr-2",attrs:{src:a("4f45"),"max-width":"30","max-height":"30"}}),e.isMobile()&&e.$route.path.startsWith("/search")?e._e():o("v-toolbar-title",{staticClass:"align-center"},[o("span",{staticClass:"title"},[e._v("ত্রাণচিত্র")])]),o("v-spacer"),e.isMobile()?e._e():[e._l(e.items,(function(t,a){return o("v-toolbar-items",{key:a},[o("v-btn",{attrs:{text:"",small:"",to:t.to}},[e._v(e._s(t.text))])],1)})),e.$store.getters.getLoggedIn?o("v-toolbar-items",[o("v-btn",{attrs:{text:"",small:"",to:"/logout"}},[e._v("Sign Out")])],1):o("v-toolbar-items",[o("v-btn",{attrs:{text:"",small:"",to:"/login"}},[e._v("Sign In")])],1)],e.$route.path.startsWith("/search")?[e.isMobile()?[o("v-row",{staticClass:"mr-1 ml-2",staticStyle:{"max-width":"650px"},attrs:{align:"center"}},[o("v-text-field",{attrs:{"append-icon-cb":function(){},label:"Search",flat:"","single-line":"","solo-inverted":"","hide-details":""},model:{value:e.searchAddress,callback:function(t){e.searchAddress=t},expression:"searchAddress"}})],1),o("v-btn",{staticClass:"primary darken-2 mr-1 ml-1",attrs:{large:"",dark:"",icon:"",loading:e.searchLoaderFlag},on:{click:e.searchClicked}},[o("v-icon",[e._v("mdi-magnify")])],1)]:o("v-toolbar",{staticStyle:{position:"fixed",top:"10vh",left:"40%",width:"20%"},attrs:{light:"",dense:"",floating:""}},[o("v-text-field",{attrs:{"hide-details":"","prepend-icon":"mdi-search","single-line":"",placeholder:"Search..."},model:{value:e.searchAddress,callback:function(t){e.searchAddress=t},expression:"searchAddress"}}),o("v-btn",{attrs:{icon:"",loading:e.searchLoaderFlag},on:{click:e.searchClicked}},[o("v-icon",[e._v("mdi-magnify")])],1)],1)]:e._e()],2)},B=[],j=(a("b0c0"),a("ac1f"),a("5319"),{name:"TopBar",data:function(){return{searchAddress:null,searchLoaderFlag:!1,maps:null,apiKey:"AIzaSyBTefL6-T9hvmcIhSIJapOCLAMAhVBEhQY",items:[{icon:"mdi-home",text:"Home",to:"/"},{icon:"mdi-magnify",text:"Search Relief",to:"/search"},{icon:"mdi-plus",text:"Add Relief",to:"/add"},{icon:"mdi-contacts",text:"Organizations",to:"/orgs"},{icon:"mdi-pencil",text:"Register",to:"/reg"},{icon:"mdi-information",text:"About us",to:"/about"},{icon:"mdi-help-circle",text:"Help",to:"/howto"}]}},components:{},mounted:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d()({apiKey:e.apiKey});case 2:a=t.sent,e.$store.commit("setMaps",a.maps),console.log("GOOGLE MAP API INCLUDED: ",e.$store.getters.getMaps),e.maps=e.$store.getters.getMaps,localStorage.getItem("x-auth")&&e.$store.commit("login");case 7:case"end":return t.stop()}}),t)})))()},methods:{isMobile:function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},toggleDrawer:function(){la.$emit("toggleDrawer")},searchClicked:function(){if("Search"!==this.$route.name&&this.$router.push({name:"Search"}),console.log("Search clicked. Search address: ",this.searchAddress),null!==this.searchAddress){this.searchLoaderFlag=!0;var e=this.searchAddress+", Bangladesh";this.callMapjsAPI(e)}else console.log("Search address is null")},callGeoCodeAPI:function(e){var t=this,a="AIzaSyBTefL6-T9hvmcIhSIJapOCLAMAhVBEhQY",o="https://maps.googleapis.com/maps/api/geocode/json?address="+e+"&key="+a,n=o.replace(/ /g,"%20");console.log("CALLING GEOCODE API"),p.a.get(n).then((function(e){console.log("RESPONSE: ",e);var t={focusLocation:e.data.results[0].geometry.location,bounds:e.data.results[0].geometry.bounds};console.log("Data emitted to map: ",t),la.$emit("resetAndShow",t)})).catch((function(e){console.log("ERROR: ",e.response)})).finally((function(){console.log("FINISH"),t.searchLoaderFlag=!1}))},callMapjsAPI:function(e){var t=this;console.log("REQUESTING TO GEOCODE API");var a=new this.maps.Geocoder;a.geocode({address:e},(function(e,a){if(console.log("FINISH"),t.searchLoaderFlag=!1,"OK"===a){console.log("RESPONSE: ",e);var o=void 0;e[0].geometry.bounds&&(o={northeast:{lat:e[0].geometry.bounds.Ya.j,lng:e[0].geometry.bounds.Ua.j},southwest:{lat:e[0].geometry.bounds.Ya.i,lng:e[0].geometry.bounds.Ua.i}});var n=e[0].geometry.location,i={focusLocation:{lat:n.lat(),lng:n.lng()},bounds:o};la.$emit("resetAndShow",i)}else alert("Geocode was not successful for the following reason: "+a)}))}}}),U=j,H=a("40dc"),q=a("5bc1"),Z=a("adda"),G=a("8654"),Y=a("71d9"),J=a("2a7f"),K=Object(f["a"])(U,D,B,!1,null,"419f5356",null),Q=K.exports;y()(K,{VAppBar:H["a"],VAppBarNavIcon:q["a"],VBtn:x["a"],VIcon:I["a"],VImg:Z["a"],VRow:T["a"],VSpacer:A["a"],VTextField:G["a"],VToolbar:Y["a"],VToolbarItems:J["a"],VToolbarTitle:J["b"]});var W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-navigation-drawer",{staticClass:"white",attrs:{clipped:e.$vuetify.breakpoint.lgAndUp,app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",[e._l(e.items,(function(t){return[a("v-list-item",{key:t.text,attrs:{link:"",to:t.to}},[a("v-list-item-action",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(" "+e._s(t.text)+" ")])],1)],1)]})),e.$store.getters.getLoggedIn?a("v-list-item",{attrs:{to:"/logout"},on:{click:e.signOut}},[a("v-list-item-action",[a("v-icon",[e._v("mdi-logout")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(" Sign Out ")])],1)],1):a("v-list-item",{attrs:{link:"",to:"/login"}},[a("v-list-item-action",[a("v-icon",[e._v("mdi-login")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(" Sign In ")])],1)],1)],2)],1)},X=[],ee={name:"SideDrawer",data:function(){return{drawer:!1,items:[{icon:"mdi-home",text:"Home",to:"/"},{icon:"mdi-magnify",text:"Search Relief",to:"/search"},{icon:"mdi-plus",text:"Add Relief",to:"/add"},{icon:"mdi-contacts",text:"Organizations",to:"/orgs"},{icon:"mdi-pencil",text:"Register",to:"/reg"},{icon:"mdi-information",text:"About us",to:"/about"},{icon:"mdi-help-circle",text:"Help",to:"/howto"}]}},mounted:function(){var e=this;localStorage.getItem("x-auth")?(console.log("USER IS AUTHORIZED"),this.$store.commit("login")):(console.log("USER IS UNAUTHORIZED"),this.$store.commit("logout")),la.$on("toggleDrawer",(function(){e.drawer=!e.drawer}))},methods:{signOut:function(){}}},te=ee,ae=a("8860"),oe=a("da13"),ne=a("1800"),ie=a("5d23"),se=a("f774"),re=Object(f["a"])(te,W,X,!1,null,"0c93e3b0",null),le=re.exports;y()(re,{VIcon:I["a"],VList:ae["a"],VListItem:oe["a"],VListItemAction:ne["a"],VListItemContent:ie["a"],VListItemTitle:ie["b"],VNavigationDrawer:se["a"]});var ce={props:{source:String},components:{Map:P,SideDrawer:le,TopBar:Q},data:function(){return{}},mounted:function(){},methods:{isMobile:function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}}},de=ce,ue=(a("034f"),a("7496")),pe=a("a75b"),ge=Object(f["a"])(de,n,i,!1,null,null,null),me=ge.exports;y()(ge,{VApp:ue["a"],VContent:pe["a"]});var he=a("f309"),ve=a("fcf4");o["a"].use(he["a"]);var fe=new he["a"]({theme:{themes:{light:{primary:"#0b877d",secondary:ve["a"].lightGreen.lighten2,accent:ve["a"].yellow,error:"#b71c1c"}}}}),be=a("8c4f"),ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center"},[a("v-bottom-sheet",{attrs:{inset:"","hide-overlay":""},model:{value:e.sheet,callback:function(t){e.sheet=t},expression:"sheet"}},[a("v-card",{staticStyle:{height:"fit-content"}},[e.bottomPopupLoadingFlag?a("v-card",{staticClass:"mx-auto",attrs:{outlined:""}},[a("div",{staticClass:"text-center ma-5"},[a("v-progress-circular",{attrs:{size:70,width:7,developer:"",color:"light-blue",indeterminate:""}})],1)]):a("v-card",{staticClass:"mx-auto",attrs:{outlined:""}},[a("div",{staticClass:"text-right"},[a("v-btn",{staticClass:"ma-2",attrs:{text:"",color:"error"},on:{click:e.closeClicked}},[e._v("close ")])],1),e.activitySelectedFlag?[a("v-card-text",[a("v-btn",{staticClass:"grey lighten-2",attrs:{icon:""},on:{click:e.backButtonClicked}},[a("v-icon",[e._v("mdi-chevron-left")])],1)],1),a("SelectedActivity",{attrs:{activity:e.selectedActivity}})]:a("v-card-text",[a("v-card-text",{staticClass:"text-center"},[a("b",[e._v("List of Relief Activities in this Location")]),a("p",[e._v("(click on any activity for details)")])]),a("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[a("tbody",[a("tr",[a("th",[e._v("Acitivities")]),a("th",[e._v("Type of Relief")])]),e._l(e.activities,(function(t,o){return a("tr",{key:o,on:{click:function(t){return e.selectActivity(o)}}},[a("td",[e._v("Activity "+e._s(o+1))]),a("td",e._l(t.typeOfRelief,(function(t,o){return a("span",{key:o},[e._v(e._s(t)+", ")])})),0)])}))],2)]},proxy:!0}],null,!1,2600725316)})],1)],2)],1)],1)],1)},ke=[],xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-list-item-title",{staticClass:"text-center"},[e._v("Organization: "+e._s(e.activity.orgName))]),a("v-card-text",[a("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[a("tbody",[a("tr",[a("td",[e._v("Location:")]),a("td",[e._v(e._s(e.formattedAddress))])]),a("tr",[a("td",[e._v("Relief Type:")]),a("td",e._l(e.activity.typeOfRelief,(function(t,o){return a("span",{key:o},[e._v(e._s(t)+", ")])})),0)])])]},proxy:!0}])})],1),e.activity.supplyDate?a("div",{staticClass:"text-center pb-2"},[a("v-btn",{staticClass:"yellow darken-1",attrs:{rounded:"",small:"",light:"",loading:e.seeMoreLoadingFlag},on:{click:e.seeMoreClicked}},[e.seeMoreFlag?[e._v(" See Less ")]:[e._v(" See More ")]],2)],1):e._e(),e.seeMoreFlag?a("v-card",{staticClass:"ma-2"},[a("v-card-text",{staticClass:"title"},[e._v("Supplied: ")]),e.activity.supplyDate?a("v-card-text",{staticClass:"subtitle-2"},[e._v(" "+e._s(new Date(e.activity.supplyDate).toDateString())+" ")]):e._e(),e.activity.contents?[a("v-card-text",{staticClass:"title"},[e._v("Description: ")]),a("v-card-text",{staticClass:"subtitle-2"},[e._v(" "+e._s(e.activity.contents)+" ")])]:e._e()],2):e._e()],1)},we=[],Se={name:"SelectedActivity",props:["activity"],data:function(){return{seeMoreFlag:!1,seeMoreLoadingFlag:!1,reliefs:[],formattedAddress:null,date:null,maps:null}},mounted:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("selected activity: ",e.activity),a=setInterval((function(){e.$store.getters.getMaps&&(e.maps=e.$store.getters.getMaps,e.callMapjsAPI(),clearInterval(a))}),100);case 2:case"end":return t.stop()}}),t)})))()},methods:{callMapjsAPI:function(){console.log("CALLING MAPSJAVASCRIPT API");var e=new this.maps.Geocoder,t={lat:this.activity.location.coordinates[1],lng:this.activity.location.coordinates[0]},a=this;e.geocode({location:t},(function(e,t){console.log("STATUS: ",t),console.log("RESPONSE: ",e),"OK"===t?e[0]?a.formattedAddress=e[0].formatted_address:console.log("ERROR: No results found"):console.log("ERROR: "+t)}))},callGeoCodeAPI:function(){var e=this,t=this.activity.location.coordinates[1],a=this.activity.location.coordinates[0];console.log("CALLING GEOCODE API");var o="AIzaSyBTefL6-T9hvmcIhSIJapOCLAMAhVBEhQY";p.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng="+t+","+a+"&key="+o).then((function(t){console.log("RESPONSE: ",t),e.formattedAddress=t.data.results[0].formatted_address})).catch((function(e){console.log("ERROR: ",e.response)})).finally((function(){console.log("FINISH")}))},seeMoreClicked:function(){this.seeMoreFlag?this.seeMoreFlag=!1:(this.seeMoreFlag=!1,this.date=new Date(this.activity.supplyDate).toDateString(),this.seeMoreFlag=!0)}}},_e=Se,Le=a("1f4f"),Ce=Object(f["a"])(_e,xe,we,!1,null,"37fc80a5",null),Oe=Ce.exports;y()(Ce,{VBtn:x["a"],VCard:w["a"],VCardText:S["b"],VListItemTitle:ie["b"],VSimpleTable:Le["a"]});var Ie={name:"BottomPopup",components:{SelectedActivity:Oe},data:function(){return{sheet:!0,seeMoreFlag:!1,seeMoreLoadingFlag:!1,bottomPopupLoadingFlag:!0,activitySelectedFlag:!1,lat:"null",lng:"null",activities:[],selectedActivity:null,reliefs:[]}},watch:{sheet:function(e,t){var a=this;setTimeout((function(){a.$router.push("/search")}),200)},$route:function(e,t){this.openBottomDrawer(e.params.position)}},mounted:function(){this.openBottomDrawer(this.$route.params.position)},methods:{backButtonClicked:function(){this.activitySelectedFlag=!1},selectActivity:function(e){this.selectedActivity=this.activities[e],this.activitySelectedFlag=!0},openBottomDrawer:function(e){var t,a=this;this.activitySelectedFlag=!1;try{t=JSON.parse(e)}catch(i){return console.log("Invalid co-ordinates"),void this.$router.push({name:"NotFound"})}var o={filter:this.$store.getters.getFilters,location:{lat:t.lat,lng:t.lng}},n={"x-auth":localStorage.getItem("x-auth")};console.log("PARAMS: ",o),n["x-auth"]?console.log("USER IS AUTHORIZED"):console.log("USER IS NOT AUTHORIZED"),this.bottomPopupLoadingFlag=!0,p.a.get("/api/activities",{headers:n,params:o}).then((function(e){console.log("RESPONSE: ",e),a.activities=e.data.activities})).catch((function(e){console.log("ERROR: ",e.response)})).finally((function(){console.log("FINISH"),a.bottomPopupLoadingFlag=!1})),this.activities=[{orgName:"Biddhanondo",typeOfRelief:"Food",location:{lat:23.5,lng:90.1}},{orgName:"Badhan",typeOfRelief:"PPE",location:{lat:25,lng:29}},{orgName:"WHO",typeOfRelief:"Sanitizer",location:{lat:30,lng:29}}]},closeClicked:function(){this.sheet=!this.sheet}}},Re=Ie,Ee=a("288c"),Te=a("490a"),Ae=Object(f["a"])(Re,ye,ke,!1,null,"5f7edf72",null),$e=Ae.exports;y()(Ae,{VBottomSheet:Ee["a"],VBtn:x["a"],VCard:w["a"],VCardText:S["b"],VIcon:I["a"],VProgressCircular:Te["a"],VSimpleTable:Le["a"]});var ze=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"text-center",staticStyle:{"text-align":"center"}},[o("h1",[o("img",{staticClass:"mt-7",staticStyle:{width:"150px",height:"150px"},attrs:{src:a("0ef4")}})]),o("h1",[e._v("ত্রাণচিত্র")]),o("p",[e._v("বর্তমানে বিশ্বব্যাপী ছড়িয়ে পরা করোনাভাইরাস মহামারি আমাদের দেশে ত্রাণ কর্মকাণ্ড সমন্বয়ের গুরুত্ব পুনরায় অনুধাবন করতে সাহায্য করেছে। ")]),e._m(0),o("v-btn",{staticClass:"primary",staticStyle:{top:"5vh"},attrs:{rounded:"",to:"/search"}},[e._v(" Explore ")])],1)},Fe=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v(" বাংলাদেশের ত্রাণ কর্মকাণ্ড সমন্বয়ের ক্ষেত্রে প্রথম প্ল্যাটফর্ম হিসাবে আমরা তাই নিয়ে এসেছি "),a("b",[e._v(" ত্রাণচিত্র ")])])}],Ve={name:"Home",components:{},mounted:function(){}},Ne=Ve,Me=Object(f["a"])(Ne,ze,Fe,!1,null,null,null),Pe=Me.exports;y()(Me,{VBtn:x["a"]});var De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Map"),a("router-view",[a("BottomPopup")],1)],1)},Be=[],je={name:"Search",components:{Map:P,BottomPopup:$e}},Ue=je,He=Object(f["a"])(Ue,De,Be,!1,null,"ae6984b8",null),qe=He.exports,Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"mx-auto elevation-12",attrs:{"max-width":"800"}},[a("v-toolbar",{staticClass:"primary darken-2",attrs:{dark:"",flat:""}},[a("v-toolbar-title",[e._v("Add Relief")]),a("v-spacer")],1),e.saveCompleteFlag?a("div",{staticClass:"ma-2",attrs:{"max-width":"500"}},[a("v-card-text",[e._v(" Thank you for adding reliefs. ")]),a("v-card-actions",[a("v-btn",{staticClass:"primary lighten-2",attrs:{block:"",to:"/"}},[e._v("Go to maps")])],1)],1):a("v-list",{staticClass:"ma-5"},[a("v-list-item",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"12",lg:"3"}},[e._v(" Search location and drop pin: "),a("v-text-field",{staticClass:"mr-2",attrs:{color:"primary lighten-1",label:"Type location: ",name:"location",type:"text"},model:{value:e.searchedLocation,callback:function(t){e.searchedLocation=t},expression:"searchedLocation"}}),a("v-btn",{staticClass:"primary lighten-1 mb-5",attrs:{loading:e.searchLoaderFlag},on:{click:e.searchClicked}},[e._v(" Search ")])],1),a("v-col",{attrs:{cols:"12",sm:"12",lg:"9"}},[a("LocationSelector",{staticClass:"mb-4",attrs:{setLocation:e.setLocation}})],1)],1)],1),a("v-list-item",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"12",lg:"3"}},[e._v(" Pick type of relief (At least one): "),0===e.selectedTypes.length?a("v-card-text",{staticClass:"red--text"},[e._v("Select at least one")]):e._e()],1),a("v-col",{attrs:{cols:"12",sm:"6",lg:"4"}},[a("v-checkbox",{attrs:{"hide-details":"",dense:"",label:"Food",value:"FOOD"},model:{value:e.selectedTypes,callback:function(t){e.selectedTypes=t},expression:"selectedTypes"}}),a("v-checkbox",{attrs:{"hide-details":"",dense:"",label:"PPE",value:"PPE"},model:{value:e.selectedTypes,callback:function(t){e.selectedTypes=t},expression:"selectedTypes"}}),a("v-checkbox",{attrs:{"hide-details":"",dense:"",label:"Sanitizer",value:"SANITIZER"},model:{value:e.selectedTypes,callback:function(t){e.selectedTypes=t},expression:"selectedTypes"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",lg:"4"}},[a("v-checkbox",{attrs:{"hide-details":"",dense:"",label:"Mask",value:"MASK"},model:{value:e.selectedTypes,callback:function(t){e.selectedTypes=t},expression:"selectedTypes"}}),a("v-checkbox",{attrs:{"hide-details":"",dense:"",label:"Glove",value:"GLOVE"},model:{value:e.selectedTypes,callback:function(t){e.selectedTypes=t},expression:"selectedTypes"}})],1)],1)],1),a("v-list-item",{staticClass:"mt-2"},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"12",lg:"3"}},[e._v(" Pick Date: ")]),a("v-col",{attrs:{cols:"12",sm:"12",lg:"9"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[a("v-text-field",e._g({attrs:{label:"Pick a date","prepend-icon":"mdi-calendar",readonly:"","error-messages":e.dateErrors},on:{input:function(t){return e.$v.date.$touch()},blur:function(t){return e.$v.date.$touch()}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},o))]}}],null,!1,1100770696),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[a("v-date-picker",{attrs:{color:"primary"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(){e.menu2=!1,e.date=null}}},[e._v("Reset")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu2=!1}}},[e._v("Done")])],1)],1)],1)],1)],1),a("v-list-item",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"12",lg:"3"}},[e._v(" Add relief Description: ")]),a("v-col",{attrs:{cols:"12",sm:"12",lg:"9"}},[a("v-textarea",{attrs:{outlined:"",color:"primary",label:"Brief Description of Relief",name:"description",type:"text"},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)],1)],1),a("v-list-item",[a("v-spacer"),a("v-card-actions",[a("v-btn",{staticClass:"red lighten-1",attrs:{dark:"",to:"/search"}},[e._v("Cancel")]),a("v-btn",{staticClass:"primary lighten-1",attrs:{loading:e.saveLoaderFlag},on:{click:e.saveClicked}},[e._v("Save")])],1)],1)],1)],1)},Ge=[],Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{ref:"googleMap",staticClass:"google-map",attrs:{id:"map"}}),Boolean(this.map)?[e._t("default",null,{map:e.map})]:e._e()],2)},Je=[],Ke={props:["setLocation"],data:function(){return{sheet:!1,google:null,map:null,maps:null,mapConfig:{center:{lat:23.685,lng:90.3563},zoom:9,options:{gestureHandling:"greedy"},disableDefaultUI:!0},currentPosition:null,apiKey:"AIzaSyBTefL6-T9hvmcIhSIJapOCLAMAhVBEhQY"}},mounted:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=setInterval((function(){e.$store.getters.getMaps&&(e.maps=e.$store.getters.getMaps,e.initializeMap(),la.$on("searchClicked",(function(t){e.searchClicked(t)})),e.checkNewReliefLocation(),clearInterval(a))}),100);case 1:case"end":return t.stop()}}),t)})))()},methods:{checkNewReliefLocation:function(){if(null!=this.$store.getters.getNewReliefLocation){var e=this.$store.getters.getNewReliefLocation;this.map.setCenter(e.focusLocation);var t=new this.maps.LatLng(e.northeast,e.northeast.lng),a=new this.maps.LatLng(e.southwest.lat,e.southwest.lng),o=new this.maps.LatLngBounds;o.extend(t),o.extend(a),this.map.fitBounds(o)}},searchClicked:function(e){if(console.log("Received data in location selector: ",e),this.map.setCenter(e.focusLocation),this.setLocation(this.map.getCenter()),void 0!=e.bounds){var t=new this.maps.LatLng(e.bounds.northeast.lat,e.bounds.northeast.lng),a=new this.maps.LatLng(e.bounds.southwest.lat,e.bounds.southwest.lng),o=new this.maps.LatLngBounds;o.extend(t),o.extend(a),this.map.fitBounds(o)}else this.map.setZoom(17)},seeMarkerDetails:function(e){console.log(e.latLng.lat(),e.latLng.lng()),this.currentPosition={lat:e.latLng.lat(),lng:e.latLng.lng()},this.map.setCenter(this.currentPosition),this.$router.push("/search/details/"+JSON.stringify(this.currentPosition))},mapClicked:function(e){var t={lat:e.latLng.lat(),lng:e.latLng.lng()};console.log(t)},mapDragEnded:function(){this.setLocation(this.map.getCenter())},mapZoomChanged:function(){this.setLocation(this.map.getCenter())},mapBoundsChanged:function(){},initializeMap:function(){var e=this.$refs.googleMap;this.map=new this.maps.Map(e,this.mapConfig),this.map.addListener("bounds_changed",this.mapBoundsChanged),this.map.addListener("dragend",this.mapDragEnded),this.map.addListener("zoom_changed",this.mapZoomChanged)}}},Qe=Ke,We=(a("0c7a"),Object(f["a"])(Qe,Ye,Je,!1,null,"75ed180b",null)),Xe=We.exports,et=a("b5ae"),tt={name:"Add",validations:{date:{required:et["required"]}},computed:{dateErrors:function(){var e=[];return this.$v.date.$dirty?(!this.$v.date.required&&e.push("Date is required."),e):e}},data:function(){return{saveLoaderFlag:!1,saveCompleteFlag:!1,searchLoaderFlag:!1,items:["Food","Sanitizer","PPE"],selectedTypes:[],searchedLocation:null,date:null,menu2:!1,location:{},content:null,maps:null,apiKey:"AIzaSyBTefL6-T9hvmcIhSIJapOCLAMAhVBEhQY"}},components:{LocationSelector:Xe},beforeRouteEnter:function(e,t,a){localStorage.getItem("x-auth")?a():a({name:"Notice",params:{text:"You must be signed in to add reliefs"}})},mounted:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=setInterval((function(){e.$store.getters.getMaps&&(e.maps=e.$store.getters.getMaps,clearInterval(a))}),100);case 1:case"end":return t.stop()}}),t)})))()},methods:{setLocation:function(e){this.location={lat:e.lat(),lng:e.lng()},console.log("New Center set at Add.vue: ",this.location)},searchClicked:function(){console.log("Name of location: ",this.searchedLocation);var e=this.searchedLocation+", Bangladesh";this.callMapjsAPI(e)},callMapjsAPI:function(e){var t=this;console.log("CALLING MAPSJAVASCRIPT API"),this.searchLoaderFlag=!0;var a=new this.maps.Geocoder;a.geocode({address:e},(function(e,a){if(console.log("FINISH"),t.searchLoaderFlag=!1,"OK"===a){console.log("RESPONSE: ",e);var o=void 0;e[0].geometry.bounds&&(o={northeast:{lat:e[0].geometry.bounds.Ya.j,lng:e[0].geometry.bounds.Ua.j},southwest:{lat:e[0].geometry.bounds.Ya.i,lng:e[0].geometry.bounds.Ua.i}});var n=e[0].geometry.location,i={focusLocation:{lat:n.lat(),lng:n.lng()},bounds:o};la.$emit("searchClicked",i)}else console.log("ERROR: "+a)}))},callGeoCodeAPI:function(e){var t=this,a="AIzaSyBTefL6-T9hvmcIhSIJapOCLAMAhVBEhQY",o="https://maps.googleapis.com/maps/api/geocode/json?address="+e+"&key="+a,n=o.replace(/ /g,"%20");console.log("CALLING GEOCODE API"),this.searchLoaderFlag=!0,p.a.get(n).then((function(e){console.log("RESPONSE: ",e);var t={focusLocation:e.data.results[0].geometry.location,bounds:e.data.results[0].geometry.bounds};la.$emit("searchClicked",t)})).catch((function(e){console.log("ERROR: ",e.response)})).finally((function(){console.log("FINISH"),t.searchLoaderFlag=!1}))},saveClicked:function(){var e=this;if(this.$v.$touch(),0!==this.selectedTypes.length&&!this.$v.$anyError){var t={typeOfRelief:this.selectedTypes,location:{lat:this.location.lat,lng:this.location.lng},contents:this.content,supplyDate:this.date},a={"x-auth":localStorage.getItem("x-auth")};console.log("DATA: ",t),a["x-auth"]?console.log("USER IS AUTHORIZED"):console.log("USER IS NOT AUTHORIZED"),this.saveLoaderFlag=!0,p.a.post("/api/activity",t,{headers:a}).then((function(t){console.log("RESPONSE: ",t),e.$router.push({name:"Notice",params:{text:"Relief added successfully in database."}}),e.saveLoaderFlag=!0})).catch((function(e){console.log("ERROR: ",e.response)})).finally((function(){console.log("FINISH"),e.saveLoaderFlag=!1}))}}}},at=tt,ot=a("2e4b"),nt=a("e449"),it=a("a844"),st=Object(f["a"])(at,Ze,Ge,!1,null,"4cc9613c",null),rt=st.exports;y()(st,{VBtn:x["a"],VCard:w["a"],VCardActions:S["a"],VCardText:S["b"],VCheckbox:_["a"],VCol:L["a"],VDatePicker:ot["a"],VList:ae["a"],VListItem:oe["a"],VMenu:nt["a"],VRow:T["a"],VSpacer:A["a"],VTextField:G["a"],VTextarea:it["a"],VToolbar:Y["a"],VToolbarTitle:J["b"]});var lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{staticClass:"mx-auto white text-center",attrs:{"max-width":"344",outlined:"",elevation:12}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"headline mb-1"},[e._v("Organizations")]),a("v-divider"),a("v-autocomplete",{attrs:{loading:e.organizationLoaderFlag,items:e.organizations,"search-input":e.select,"cache-items":"",disabled:e.organizationLoaderFlag,flat:"","hide-no-data":"","hide-details":"",label:e.organizationLoaderFlag?"Loading Names of organizations...":"Type name of organization:","error-messages":e.selectedOrganizationErrors},on:{"update:searchInput":function(t){e.select=t},"update:search-input":function(t){e.select=t},input:function(t){return e.$v.selectedOrganization.$touch()},blur:function(t){return e.$v.selectedOrganization.$touch()}},model:{value:e.selectedOrganization,callback:function(t){e.selectedOrganization=t},expression:"selectedOrganization"}}),a("v-btn",{staticClass:"primary mx-auto mt-3",attrs:{text:"",dark:"",rounded:"",loading:e.searchLoaderFlag,disabled:e.organizationLoaderFlag},on:{click:e.searchClicked}},[e._v("Search ")])],1)],1)],1),e.organization?a("v-card",{staticClass:"mx-auto white pa-4 mt-5",staticStyle:{width:"90vw"},attrs:{outlined:"",elevation:2}},[e.organization.orgName?a("v-list-item",{staticClass:"text-center",attrs:{"three-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"headline mb-1"},[e._v(e._s(e.organization.orgName))])],1)],1):e._e(),e.organization.description?a("v-card-text",[e._v(" "+e._s(e.organization.description)+" ")]):e._e(),e.organization.contact?[a("v-card-actions",[a("v-btn",{staticClass:"blue-grey",attrs:{dark:""},on:{click:function(t){return e.linkClicked(e.organization.contact.facebook)}}},[e._v("Donate")]),a("v-btn",{staticClass:"blue-grey",attrs:{dark:""},on:{click:function(t){return e.linkClicked(e.organization.contact.website)}}},[e._v("Website")]),a("v-btn",{staticClass:"blue-grey",attrs:{dark:""},on:{click:function(t){return e.linkClicked(e.organization.contact.facebook)}}},[e._v("Facebook")])],1),e.organization.contact.phone?a("v-card-text",[e._v(" Phone: "+e._s(e.organization.contact.phone)+" ")]):e._e(),e.organization.contact.email?a("v-card-text",[e._v(" Email: "+e._s(e.organization.contact.email)+" ")]):e._e(),e.organization.contact.website?a("v-card-text",[e._v(" Website: "+e._s(e.organization.contact.website)+" ")]):e._e(),e.organization.contact.facebook?a("v-card-text",[e._v(" Facebook: "+e._s(e.organization.contact.facebook)+" ")]):e._e()]:e._e(),0!==e.activities.length?[a("v-card-title",[e._v("Relief Records:")]),a("v-expansion-panels",{attrs:{accordion:!1,popout:!0,inset:!1,multiple:!1,focusable:!0,disabled:!1,readonly:!1,flat:!1,hover:!1,tile:!1}},e._l(e.activities,(function(t,o){return a("v-expansion-panel",{key:o},[t.typeOfRelief?a("v-expansion-panel-header",[a("p",[e._v("Relief Type: "),e._l(t.typeOfRelief,(function(t,o){return a("span",{key:o},[e._v(e._s(t)+", ")])}))],2)]):e._e(),a("v-expansion-panel-content",{staticClass:"pt-3"},[t.supplyDate?[a("p",[a("b",[e._v("Supply Date:")])]),a("p",[e._v(" "+e._s(new Date(t.supplyDate).toDateString()))])]:e._e(),t.contents?[a("p",[a("b",[e._v("Contents:")])]),a("p",[e._v(e._s(t.contents))])]:e._e()],2)],1)})),1)]:e._e()],2):e._e()],1)},ct=[],dt={name:"Organization",validations:{selectedOrganization:{required:et["required"]}},data:function(){return{detailsLoadedFlag:!1,searchLoaderFlag:!1,organizationLoaderFlag:!1,organizations:[],selectedOrganization:null,select:"",reliefs:[],organization:null,activities:[]}},components:{},computed:{selectedOrganizationErrors:function(){var e=[];return this.$v.selectedOrganization.$dirty?(!this.$v.selectedOrganization.required&&e.push("Organization name is required."),e):e}},created:function(){var e=this;if(this.organizations=this.$store.getters.getOrganizations,0===this.organizations.length){var t={},a={"x-auth":localStorage.getItem("x-auth")};console.log("PARAMS: ",t),a["x-auth"]?console.log("USER IS AUTHORIZED"):console.log("USER IS NOT AUTHORIZED"),this.organizationLoaderFlag=!0,p.a.get("/api/orgs",{headers:a,params:t}).then((function(t){console.log("RESPONSE: ",t),e.$store.commit("setOrganizations",t.data.orgNames),e.organizations=e.$store.getters.getOrganizations})).catch((function(e){console.log("ERROR: ",e.response)})).finally((function(){console.log("FINISH"),e.organizationLoaderFlag=!1}))}},methods:{linkClicked:function(e){/^https?:\/\//i.test(e)||(e="http://"+e),window.open(e)},searchClicked:function(){var e=this;if(this.$v.$touch(),!this.$v.$anyError){this.organization=null,this.activities=[],console.log("selected organization: ",this.selectedOrganization),this.searchLoaderFlag=!0,this.detailsLoadedFlag=!1;var t={orgName:this.selectedOrganization},a={"x-auth":localStorage.getItem("x-auth")};console.log("PARAMS: ",t),a["x-auth"]?console.log("USER IS AUTHORIZED"):console.log("USER IS NOT AUTHORIZED"),p.a.get("/api/orgdetails",{headers:a,params:t}).then((function(t){console.log("RESPONSE: ",t),e.organization=t.data.organization,e.activities=t.data.activities})).catch((function(e){console.log("ERROR: ",e.response)})).finally((function(){console.log("FINISH"),e.searchLoaderFlag=!1,e.detailsLoadedFlag=!0}))}}}},ut=dt,pt=a("cd55"),gt=a("49e2"),mt=a("c865"),ht=a("0393"),vt=Object(f["a"])(ut,lt,ct,!1,null,"df874df8",null),ft=vt.exports;y()(vt,{VAutocomplete:k["a"],VBtn:x["a"],VCard:w["a"],VCardActions:S["a"],VCardText:S["b"],VCardTitle:S["c"],VDivider:O["a"],VExpansionPanel:pt["a"],VExpansionPanelContent:gt["a"],VExpansionPanelHeader:mt["a"],VExpansionPanels:ht["a"],VListItem:oe["a"],VListItemContent:ie["a"],VListItemTitle:ie["b"]});var bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"mx-auto elevation-12",staticStyle:{top:"20vh"},attrs:{"max-width":"500"}},[a("v-toolbar",{staticClass:"primary darken-4",attrs:{dark:"",flat:""}},[a("v-toolbar-title",[e._v("Login")]),a("v-spacer")],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{color:"primary",label:"Username",name:"username",type:"text"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),a("v-text-field",{attrs:{color:"primary",id:"password",label:"Password",name:"password",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("p",{staticClass:"red--text"},[e._v(e._s(e.errorMessage))])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"primary lighten-2",attrs:{rounded:"",loading:e.signInLoaderFlag},on:{click:e.signInClicked}},[e._v("Login")])],1)],1)},yt=[],kt={name:"Login",data:function(){return{username:null,password:null,signInLoaderFlag:!1,errorMessage:null}},methods:{signInClicked:function(){var e=this;this.errorMessage=null,null===this.password&&(this.password="");var t={username:this.username,password:this.password};console.log("LOGIN REQUEST SENT"),this.signInLoaderFlag=!0,p.a.post("/api/login",t).then((function(t){t.data.token&&console.log("TOKEN RECEIVED"),e.$store.commit("setToken",t.data.token),e.$router.push({name:"Search"}),localStorage.setItem("x-auth",t.data.token),e.$store.commit("login")})).catch((function(t){console.log("ERROR: ",t.response),t.response.data&&t.response.data.message&&(e.errorMessage=t.response.data.message)})).finally((function(){console.log("FINISH"),e.signInLoaderFlag=!1}))}}},xt=kt,wt=a("4bd4"),St=Object(f["a"])(xt,bt,yt,!1,null,"0def0b3b",null),_t=St.exports;y()(St,{VBtn:x["a"],VCard:w["a"],VCardActions:S["a"],VCardText:S["b"],VForm:wt["a"],VSpacer:A["a"],VTextField:G["a"],VToolbar:Y["a"],VToolbarTitle:J["b"]});var Lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.requestCompleted?a("v-card",{staticClass:"mx-auto elevation-12",staticStyle:{top:"10vh"},attrs:{"max-width":"500"}},[a("v-card-text",[e._v(" "+e._s(e.notificationText)+" ")]),a("v-card-actions",[a("v-btn",{staticClass:"primary lighten-2",attrs:{block:"",to:"/"},on:{click:e.registerClicked}},[e._v("Go to maps")])],1)],1):a("v-card",{staticClass:"mx-auto mb-5 elevation-12",attrs:{"max-width":"500"}},[a("v-toolbar",{staticClass:"primary darken-2",attrs:{dark:"",flat:""}},[a("v-toolbar-title",[e._v("Enlist your organization")]),a("v-spacer")],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{label:"Organization Name",required:"","error-messages":e.nameErrors},on:{input:function(t){return e.$v.name.$touch()},blur:function(t){return e.$v.name.$touch()}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-textarea",{attrs:{outlined:"",color:"primary",label:"Brief Description of Organization",name:"description",type:"text",required:"","error-messages":e.descriptionErrors},on:{input:function(t){return e.$v.description.$touch()},blur:function(t){return e.$v.description.$touch()}},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),a("v-row",[a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{attrs:{color:"primary",name:"phone",type:"text",value:"+880",disabled:""}})],1),a("v-col",{attrs:{cols:"10"}},[a("v-text-field",{attrs:{color:"primary",label:"Contact No. (11 digits)",name:"phone",type:"text",required:"","error-messages":e.phoneErrors},on:{input:function(t){return e.$v.phone.$touch()},blur:function(t){return e.$v.phone.$touch()}},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1)],1),a("v-text-field",{attrs:{label:"E-mail"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{color:"primary",label:"Facebook",name:"facebook",type:"text"},model:{value:e.facebook,callback:function(t){e.facebook=t},expression:"facebook"}}),a("v-text-field",{attrs:{color:"primary",label:"Website",name:"website",type:"text"},model:{value:e.website,callback:function(t){e.website=t},expression:"website"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"primary",attrs:{light:"",loading:e.registerLoaderFlag},on:{click:e.registerClicked}},[e._v("Register")])],1)],1)],1)},Ct=[],Ot=(a("a4d3"),a("e01a"),{name:"Register",validations:{name:{required:et["required"]},phone:{required:et["required"],numeric:et["numeric"],lengthCheck:function(e){return 11===e.length}},description:{required:et["required"],minLength:Object(et["minLength"])(10)}},computed:{nameErrors:function(){var e=[];return this.$v.name.$dirty?(!this.$v.name.required&&e.push("Name is required."),e):e},phoneErrors:function(){var e=[];return this.$v.phone.$dirty?(!this.$v.phone.required&&e.push("Phone number is required."),!this.$v.phone.numeric&&e.push("Phone number should be numeric."),!this.$v.phone.lengthCheck&&e.push("Phone number should be 11 digits."),e):e},descriptionErrors:function(){var e=[];return this.$v.description.$dirty?(!this.$v.description.required&&e.push("Description is required."),!this.$v.description.minLength&&e.push("Description should be of minimum 10 characters"),e):e}},data:function(){return{notificationText:"You registration has been completed successfully. We will contact you soon",requestCompleted:!1,registerLoaderFlag:!1,name:null,description:null,phone:"",email:null,facebook:null,website:null}},methods:{registerClicked:function(){var e=this;if(this.$v.$touch(),!this.$v.$anyError){""===this.website&&(this.website=null),""===this.facebook&&(this.facebook=null),""===this.email&&(this.email=null);var t={orgName:this.name,description:this.description,phone:"+88"+this.phone,email:this.email,facebook:this.facebook,website:this.website};console.log("DATA: ",t),this.requestCompleted=!1,this.registerLoaderFlag=!0,p.a.post("/api/register",t).then((function(t){console.log("RESPONSE: ",t),e.requestCompleted=!0})).catch((function(e){console.log("ERROR: ",e.response)})).finally((function(){console.log("FINISH"),e.registerLoaderFlag=!1}))}}}}),It=Ot,Rt=Object(f["a"])(It,Lt,Ct,!1,null,"1ee67039",null),Et=Rt.exports;y()(Rt,{VBtn:x["a"],VCard:w["a"],VCardActions:S["a"],VCardText:S["b"],VCol:L["a"],VForm:wt["a"],VRow:T["a"],VSpacer:A["a"],VTextField:G["a"],VTextarea:it["a"],VToolbar:Y["a"],VToolbarTitle:J["b"]});var Tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Notice",{attrs:{text:"Page under maintainance"}})},At=[],$t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"about"},[e.text?a("v-card",{staticClass:"mx-auto elevation-12",staticStyle:{top:"20vh"},attrs:{"max-width":"500"}},[a("v-list",[a("v-list-item",[a("v-list-item-title",[e._v(" "+e._s(e.text)+" ")])],1),a("v-card-actions",[a("v-btn",{staticClass:"primary lighten-2",attrs:{block:"",to:"/search"}},[e._v("Go to maps")])],1)],1)],1):e._e()],1)},zt=[],Ft={props:["text"],name:"Notice"},Vt=Ft,Nt=Object(f["a"])(Vt,$t,zt,!1,null,"70f53a4a",null),Mt=Nt.exports;y()(Nt,{VBtn:x["a"],VCard:w["a"],VCardActions:S["a"],VList:ae["a"],VListItem:oe["a"],VListItemTitle:ie["b"]});var Pt={name:"About",components:{Notice:Mt}},Dt=Pt,Bt=Object(f["a"])(Dt,Tt,At,!1,null,"5fff8e64",null),jt=Bt.exports,Ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Notice",{attrs:{text:"Page under maintainance"}})},Ht=[],qt={name:"HowTo",components:{Notice:Mt}},Zt=qt,Gt=Object(f["a"])(Zt,Ut,Ht,!1,null,"10bb20d0",null),Yt=Gt.exports,Jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Notice",{attrs:{text:"You have been logged out"}})},Kt=[],Qt={name:"Logout",components:{Notice:Mt},created:function(){var e=this,t={},a={"x-auth":localStorage.getItem("x-auth")};console.log("DATA: ",t),a["x-auth"]?console.log("USER IS AUTHORIZED"):console.log("USER IS NOT AUTHORIZED"),p.a.post("/api/logout",t,{headers:a}).then((function(e){console.log("RESPONSE: ",e)})).catch((function(e){console.log("ERROR: ",e.response)})).finally((function(){console.log("FINISH"),localStorage.removeItem("x-auth"),e.$store.commit("logout")}))}},Wt=Qt,Xt=Object(f["a"])(Wt,Jt,Kt,!1,null,"6ac8b94a",null),ea=Xt.exports;o["a"].use(be["a"]);var ta=[{path:"/",name:"Home",component:Pe},{path:"/search",name:"Search",component:qe,children:[{path:"details/:position",name:"Details",component:$e}]},{path:"/add",name:"Add",component:rt},{path:"/orgs",name:"Organizations",component:ft},{path:"/login",name:"LogIn",component:_t},{path:"/reg",name:"Register",component:Et},{path:"/about",name:"About",component:jt},{path:"/howto",name:"HowTo",component:Yt},{path:"*",name:"NotFound",props:{text:"Page Not found"},component:Mt},{path:"/logout",name:"LogOut",component:ea},{path:"/notice",name:"Notice",props:!0,component:Mt}],aa=new be["a"]({mode:"history",base:"/",routes:ta}),oa=aa,na=a("2f62");o["a"].use(na["a"]);var ia=new na["a"].Store({state:{dragZoomNotifier:!0,token:null,loggedIn:!1,filters:{typeOfRelief:[],schedule:null,orgName:null},organizations:[],newReliefLocation:null,maps:null},mutations:{stopDragZoomNotifier:function(e){e.dragZoomNotifier=!1},setToken:function(e,t){e.token=t},setFilters:function(e,t){e.filters=t},setOrganizations:function(e,t){e.organizations=t},setNewReliefLocation:function(e,t){e.newReliefLocation=t},logout:function(e){e.loggedIn=!1},login:function(e){e.loggedIn=!0},setMaps:function(e,t){e.maps=t}},actions:{},modules:{},getters:{getLoggedIn:function(e){return e.loggedIn},getDragZoomNotifier:function(e){return e.dragZoomNotifier},getToken:function(e){return e.token},getFilters:function(e){return e.filters},getOrganizations:function(e){return e.organizations},getNewReliefLocation:function(e){return e.newReliefLocation},getMaps:function(e){return e.maps}}}),sa=a("1dce"),ra=a.n(sa);o["a"].use(ra.a),p.a.defaults.baseURL="https://www.traanchitro.com",o["a"].config.productionTip=!1;var la=new o["a"];new o["a"]({vuetify:fe,router:oa,store:ia,render:function(e){return e(me)}}).$mount("#app")},"84b5":function(e,t,a){},"8a23":function(e,t,a){}});
//# sourceMappingURL=app.e347b45b.js.map